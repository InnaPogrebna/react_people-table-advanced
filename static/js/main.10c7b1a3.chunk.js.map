{"version":3,"sources":["api/api.ts","components/PeopleRow/PeopleRow.tsx","components/PeopleTable/PeopleTable.tsx","components/NewPerson/NewPerson.tsx","components/PeoplePage/PeoplePage.tsx","components/HomePage/HomePage.tsx","App.tsx","index.tsx"],"names":["getPeople","a","fetch","response","json","PeopleRow","person","selectedSort","location","useLocation","className","to","pathname","slug","search","sex","name","born","died","mother","motherName","father","fatherName","PeopleTable","filterPeople","getSortTable","sortOrder","useParams","changeArrow","value","onClick","src","alt","map","NewPerson","addNewPeople","people","setIsOpenForm","useState","Number","newPerson","setNewPerson","slugPerson","setSlugPerson","setFather","setMother","navigate","useNavigate","validName","setValidName","errorName","setErrorName","validAge","setValidAge","errorAge","setErrorAge","filterPerson","filter","handleChange","event","concat","toString","valName","RegExp","target","type","checked","prevState","test","validation","age","validationAge","handleChangeSelect","setSelect","listOfMother","useMemo","listOfFather","onSubmit","preventDefault","addPerson","undefined","placeholder","onChange","required","htmlFor","id","min","max","Date","getFullYear","step","disabled","length","PeoplePage","setPeople","searchParams","URLSearchParams","setSortOrder","setSelectedSort","isOpenForm","appliedQuery","get","query","setQuery","useEffect","then","human","find","m","f","applyQuery","useCallback","debounce","newQuery","set","delete","getSearchParams","lowerQuery","toLowerCase","includes","getOpenForm","curList","style","width","marginBottom","color","sort","b","localeCompare","HomePage","App","path","element","replace","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.10c7b1a3.chunk.js","sourcesContent":["const BASE_URL\n= 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nexport const getPeople = async () => {\n  try {\n    const response = await fetch(`${BASE_URL}`);\n\n    return await response.json();\n  } catch (error) {\n    return 'error';\n  }\n};\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { People } from '../../types/people';\nimport './PeopleRow.scss';\n\ntype Props = {\n  person: People,\n  selectedSort: string,\n};\n\nconst PeopleRow:React.FC<Props> = ({ person, selectedSort }) => {\n  const location = useLocation();\n\n  return (\n    <>\n      <td\n        className={(selectedSort === 'name') ? 'is-selected' : ''}\n      >\n        <Link\n          to={{\n            pathname: `/people/${person.slug}`,\n            search: location.search,\n          }}\n          className={(person.sex === 'm') ? 'man' : 'woman'}\n        >\n          {person.name}\n        </Link>\n      </td>\n      <td\n        className={(selectedSort === 'sex') ? 'is-selected' : ''}\n      >\n        {person.sex}\n      </td>\n      <td\n        className={(selectedSort === 'born') ? 'is-selected' : ''}\n      >\n        {person.born}\n      </td>\n      <td\n        className={(selectedSort === 'died') ? 'is-selected' : ''}\n      >\n        {person.died}\n      </td>\n      <td>\n        {person.mother\n          ? (\n            <Link\n              to={{\n                pathname: `/people/${person.mother.slug}`,\n                search: location.search,\n              }}\n              className=\"woman\"\n            >\n              {person.motherName}\n            </Link>\n          )\n          : (\n            <>\n              {person.motherName}\n            </>\n          )}\n      </td>\n      <td>\n        {person.father\n          ? (\n            <Link\n              to={{\n                pathname: `/people/${person.father.slug}`,\n                search: location.search,\n              }}\n              className=\"man\"\n            >\n              {person.fatherName}\n            </Link>\n          )\n          : (\n            <>\n              {person.fatherName}\n            </>\n          )}\n      </td>\n    </>\n  );\n};\n\nexport default PeopleRow;\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { People } from '../../types/people';\nimport PeopleRow from '../PeopleRow/PeopleRow';\nimport './PeopleTable.scss';\n\ntype Props = {\n  filterPeople: People[],\n  getSortTable: (sort:string) => void,\n  sortOrder: string,\n  selectedSort: string,\n};\n\nconst PeopleTable: React.FC<Props> = ({\n  filterPeople,\n  getSortTable,\n  sortOrder,\n  selectedSort,\n}) => {\n  const { slug } = useParams<{ slug: string }>();\n\n  const changeArrow = (value:string) => {\n    if ((selectedSort === value) && sortOrder) {\n      switch (sortOrder) {\n        case 'asc':\n          return '/images/sort_asc.png';\n        case 'desc':\n          return '/images/sort_desc.png';\n        default:\n          break;\n      }\n    }\n\n    return './images/sort_both.png';\n  };\n\n  return (\n    <table className=\"table table-border is-hoverable is-striped is-bordered\">\n      <thead>\n        <tr>\n          <th onClick={() => getSortTable('name')}>\n            <span>Name</span>\n            <img\n              src={changeArrow('name')}\n              alt=\"arrow\"\n              className=\"img\"\n            />\n          </th>\n          <th onClick={() => getSortTable('sex')}>\n            <span>Sex</span>\n            <img\n              src={changeArrow('sex')}\n              alt=\"arrow\"\n              className=\"img\"\n            />\n          </th>\n          <th onClick={() => getSortTable('born')}>\n            <span>Born</span>\n            <img\n              src={changeArrow('born')}\n              alt=\"arrow\"\n              className=\"img\"\n            />\n          </th>\n          <th onClick={() => getSortTable('died')}>\n            <span>Died</span>\n            <img\n              src={changeArrow('died')}\n              alt=\"arrow\"\n              className=\"img\"\n            />\n          </th>\n          <th>Mother</th>\n          <th>Father</th>\n        </tr>\n      </thead>\n      <tbody>\n        {filterPeople.map(person => (\n          <tr\n            key={person.slug}\n            className={`${(slug === person.slug) ? 'is-selected' : ''}`}\n          >\n            <PeopleRow\n              person={person}\n              selectedSort={selectedSort}\n            />\n          </tr>\n        ))}\n      </tbody>\n\n    </table>\n  );\n};\n\nexport default PeopleTable;\n","import React, { useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { People } from '../../types/people';\nimport './NewPerson.scss';\n\ntype Props = {\n  people: People[],\n  addNewPeople: (newPerson:People) => void,\n  setIsOpenForm: (arg0: boolean) => void,\n};\n\nconst NewPerson:React.FC<Props> = ({ addNewPeople, people, setIsOpenForm }) => {\n  const [newPerson, setNewPerson] = useState<People>({\n    name: '',\n    sex: 'm' || 'f',\n    born: Number('0'),\n    died: Number('0'),\n  });\n\n  const [slugPerson, setSlugPerson] = useState('');\n  const [father, setFather] = useState('');\n  const [mother, setMother] = useState('');\n  const navigate = useNavigate();\n\n  const [validName, setValidName] = useState(true);\n  const [errorName, setErrorName] = useState('');\n  const [validAge, setValidAge] = useState(true);\n  const [errorAge, setErrorAge] = useState('');\n\n  const filterPerson = (value:string) => {\n    return people.filter(person => person.sex === value)\n      .filter(person => (+person.died > +newPerson.born)\n        && (+person.born < +newPerson.born));\n  };\n\n  const handleChange = (\n    event:React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    setSlugPerson(newPerson.name.concat((newPerson.born).toString()));\n    const valName = new RegExp(/^([А-Яа-яЁёA-Za-z\\s]+$)/);\n\n    const {\n      name, value, type, checked,\n    } = event.target;\n\n    setNewPerson((prevState) => ({\n      ...prevState,\n      [name]: type === 'checkbox' ? checked : value,\n    }));\n\n    if (name === 'name') {\n      setValidName(valName.test(value));\n    }\n  };\n\n  const validationAge = () => {\n    const age = newPerson.died - newPerson.born;\n\n    if (age >= 0 && age < 150) {\n      setValidAge(validAge);\n\n      return true;\n    }\n\n    setValidAge(!validAge);\n\n    return false;\n  };\n\n  const validation = () => {\n    if (!validName || !validationAge()) {\n      setErrorName(\"Your name isn't validation\");\n      setErrorAge('Not valid age');\n\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleChangeSelect = (\n    setSelect:(value:string)=>void,\n    event:React.ChangeEvent<HTMLSelectElement | HTMLInputElement>,\n  ) => {\n    setSelect(event.target.value);\n  };\n\n  const onSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    if (newPerson && validation()) {\n      const addPerson = {\n        ...newPerson,\n        slug: slugPerson,\n        motherName: mother || undefined,\n        fatherName: father || undefined,\n      };\n\n      addNewPeople(addPerson);\n      navigate('/people');\n      setIsOpenForm(false);\n    }\n  };\n\n  const listOfMother = useMemo(() => (\n    filterPerson('f')\n  ), [people, newPerson.born]);\n\n  const listOfFather = useMemo(() => (\n    filterPerson('m')\n  ), [people, newPerson.born]);\n\n  return (\n    <>\n      <div>NewPerson</div>\n      <form onSubmit={onSubmit} className=\"form\">\n        <div className=\"control\">\n          <label className=\"label\">\n            Name:\n            <input\n              type=\"text\"\n              placeholder=\"Name\"\n              className=\"input\"\n              name=\"name\"\n              value={newPerson.name}\n              onChange={handleChange}\n              required\n            />\n          </label>\n          {!validName\n            && (\n              <p className=\"error\">\n                {errorName}\n              </p>\n            )}\n        </div>\n        <div className=\"control\">\n          <label\n            className=\"radio\"\n            htmlFor=\"sex_m\"\n          >\n            <input\n              type=\"radio\"\n              id=\"sex_m\"\n              name=\"sex\"\n              value=\"m\"\n              onChange={handleChange}\n              required\n            />\n            Male\n          </label>\n          <label\n            className=\"radio\"\n            htmlFor=\"sex_f\"\n          >\n            <input\n              type=\"radio\"\n              id=\"sex_f\"\n              name=\"sex\"\n              value=\"f\"\n              onChange={handleChange}\n              required\n            />\n            Female\n          </label>\n        </div>\n        <label\n          htmlFor=\"BornYear\"\n          className=\"label\"\n        >\n          Born :\n          <input\n            type=\"number\"\n            name=\"born\"\n            value={newPerson.born}\n            min=\"1400\"\n            max={new Date().getFullYear()}\n            step=\"1\"\n            onChange={handleChange}\n            required\n          />\n        </label>\n        <label\n          htmlFor=\"DiedYear\"\n          className=\"label\"\n        >\n          Died :\n          <input\n            type=\"number\"\n            disabled={(newPerson.born < 1400)}\n            name=\"died\"\n            value={newPerson.died}\n            min=\"1400\"\n            max={new Date().getFullYear()}\n            step=\"1\"\n            onChange={handleChange}\n          />\n        </label>\n        {!validAge\n            && (\n              <p className=\"error\">\n                {errorAge}\n              </p>\n            )}\n        <label className=\"label\">\n          Mother:\n          <select\n            name=\"motherName\"\n            disabled={newPerson.born < 1400 || (listOfMother.length === 0)}\n            className=\"select selectBlock\"\n            onChange={(event) => handleChangeSelect(setMother, event)}\n          >\n            <option value=\"mother\">Choose mother`s name</option>\n            {listOfMother.map((person) => (\n              <option\n                key={person.slug}\n                value={person.name}\n              >\n                {person.name}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label className=\"label\">\n          Father:\n          <select\n            name=\"fatherName\"\n            disabled={newPerson.born < 1400 || (listOfFather.length === 0)}\n            className=\"select selectBlock\"\n            onChange={(event) => handleChangeSelect(setFather, event)}\n          >\n            <option value=\"father\">Choose father`s name</option>\n            {listOfFather.map((person) => (\n              <option\n                key={person.slug}\n                value={person.name}\n              >\n                {person.name}\n              </option>\n            ))}\n          </select>\n        </label>\n        <button\n          type=\"submit\"\n          className=\"button is-hovered\"\n        >\n          Add\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default NewPerson;\n","import React, {\n  useCallback, useEffect, useMemo, useState,\n} from 'react';\nimport { TailSpin } from 'react-loader-spinner';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { debounce } from 'lodash';\nimport { getPeople } from '../../api/api';\nimport { People } from '../../types/people';\nimport PeopleTable from '../PeopleTable/PeopleTable';\nimport NewPerson from '../NewPerson/NewPerson';\nimport './PeoplePage.scss';\n\nconst PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<People[]>([]);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const [sortOrder, setSortOrder] = useState('asc');\n  const [selectedSort, setSelectedSort] = useState('');\n  const [isOpenForm, setIsOpenForm] = useState(false);\n  const appliedQuery = searchParams.get('query') || '';\n  const [query, setQuery] = useState(appliedQuery);\n\n  useEffect(() => {\n    getPeople()\n      .then(response => setPeople(response.map((human: People) => {\n        const mother = response\n          .find((m: People) => m.name === human.motherName);\n        const father = response\n          .find((f: People) => f.name === human.fatherName);\n\n        return { ...human, mother, father };\n      })));\n  }, []);\n\n  const addNewPeople = (newPerson:People) => {\n    setPeople(curList => [...curList, newPerson]);\n  };\n\n  const applyQuery = useCallback(\n    debounce((newQuery) => {\n      if (newQuery) {\n        searchParams.set('query', newQuery);\n      } else {\n        searchParams.delete('query');\n      }\n\n      navigate(`?${searchParams.toString()}`);\n    }, 500),\n    [],\n  );\n\n  const getSearchParams = (name:string, value:string) => {\n    if (value) {\n      searchParams.set(name, value);\n    } else {\n      searchParams.delete(name);\n    }\n\n    navigate(`?${searchParams.toString()}`);\n  };\n\n  const handleQueryChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(event.target.value);\n    applyQuery(event.target.value);\n  };\n\n  const lowerQuery = query.toLowerCase();\n\n  const filterPeople = useMemo(() => (people\n    .filter(person => person.name.toLowerCase().includes(lowerQuery)\n    || person.motherName?.toLowerCase().includes(lowerQuery)\n    || person.fatherName?.toLowerCase().includes(lowerQuery))\n  ), [appliedQuery, people]);\n\n  const getSortTable = (sort:string) => {\n    setSelectedSort(sort);\n    getSearchParams('sortBy', selectedSort);\n    getSearchParams('sortOrder', sortOrder);\n\n    switch (sortOrder) {\n      case 'asc':\n        switch (sort) {\n          case 'name':\n          case 'sex':\n            filterPeople.sort((a, b) => (a[sort]).localeCompare(b[sort]));\n            setSortOrder('desc');\n            break;\n          case 'born':\n          case 'died':\n            filterPeople.sort((a, b) => a[sort] - b[sort]);\n            setSortOrder('desc');\n            break;\n          default:\n        }\n\n        break;\n      case 'desc':\n        switch (sort) {\n          case 'name':\n          case 'sex':\n            filterPeople.sort((a, b) => (b[sort]).localeCompare(a[sort]));\n            setSortOrder('asc');\n            break;\n          case 'born':\n          case 'died':\n            filterPeople.sort((a, b) => b[sort] - a[sort]);\n            setSortOrder('asc');\n            break;\n          default:\n        }\n\n        break;\n      default:\n    }\n  };\n\n  const getOpenForm = () => {\n    setIsOpenForm(!isOpenForm);\n  };\n\n  return (\n    <div className=\"peoplePage\">\n      <h1 className=\"title\">\n        People Page\n      </h1>\n      {isOpenForm && (\n        <NewPerson\n          addNewPeople={addNewPeople}\n          people={people}\n          setIsOpenForm={setIsOpenForm}\n        />\n      )}\n      {isOpenForm\n        ? (\n          <Link to=\"/people\" onClick={getOpenForm}>\n            <p className=\"button btn\">\n              Close\n            </p>\n          </Link>\n        )\n        : (\n          <Link to=\"new\" onClick={getOpenForm}>\n            <p className=\"button\">\n              Add new person\n            </p>\n          </Link>\n        )}\n      <div>\n        <input\n          className=\"input is-normal inputMargin\"\n          style={{ width: '350px', marginBottom: '10px' }}\n          type=\"text\"\n          data-cy=\"filterInput\"\n          placeholder=\"filter table\"\n          value={query}\n          onChange={handleQueryChange}\n        />\n      </div>\n      {(filterPeople.length === 0)\n        ? <TailSpin color=\"blue\" />\n        : (\n          <PeopleTable\n            filterPeople={filterPeople}\n            getSortTable={getSortTable}\n            sortOrder={sortOrder}\n            selectedSort={selectedSort}\n          />\n        )}\n    </div>\n  );\n};\n\nexport default PeoplePage;\n","import React from 'react';\n\nconst HomePage: React.FC = () => {\n  return (\n    <h1 className=\"title\">Home page</h1>\n  );\n};\n\nexport default HomePage;\n","import './App.scss';\nimport 'bulma/css/bulma.min.css';\nimport {\n  Routes, Route, Navigate, Link,\n} from 'react-router-dom';\nimport PeoplePage from './components/PeoplePage/PeoplePage';\nimport HomePage from './components/HomePage/HomePage';\n\nconst App = () => (\n  <div className=\"App\">\n    <header>\n      <nav className=\"navbar\">\n        <Link className=\"navbar-item\" to=\"/\">Home page</Link>\n        <Link className=\"navbar-item\" to=\"/people\">People page</Link>\n      </nav>\n    </header>\n    <Routes>\n      <Route path=\"/\" element={<HomePage />} />\n      <Route path=\"people/\" element={<PeoplePage />}>\n        <Route path=\":slug\" element={<></>} />\n      </Route>\n      <Route path=\"*\" element={<p>Page not found</p>} />\n      <Route path=\"/home\" element={<Navigate replace to=\"/\" />} />\n    </Routes>\n  </div>\n);\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}